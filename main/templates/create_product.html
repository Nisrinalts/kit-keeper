{% extends 'base.html' %}
{% block title %}Add Product — KitKeeper{% endblock %}

{% block content %}
<div class="fixed inset-0 -z-10 bg-[radial-gradient(circle,_#ffb6c1,_#ffc1cc,_#ffe4ec)]"></div>

<div class="min-h-screen flex items-start md:items-center">
  <div class="w-full max-w-[920px] mx-auto p-4">
    <div class="bg-gradient-yellow rounded-[20px] p-6 md:p-8 shadow-[0_12px_32px_rgba(0,0,0,0.12)] relative overflow-visible">

      <a href="{% url 'main:show_main' %}"
        class="inline-flex items-center gap-2 mb-6 px-4 py-2 rounded-[12px]
                bg-white border border-[#e5e7eb] text-[#111827]
                hover:bg-[#ffb6c1] hover:text-white hover:border-[#ffb6c1] transition">
        ← Back
      </a>

      <h2 class="text-[28px] leading-[34px] font-extrabold text-[#111827] mb-6">Add Product</h2>

      <form method="POST" class="grid grid-cols-[150px_minmax(240px,1fr)] gap-y-4 gap-x-4">
        {% csrf_token %}

        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Name:</label>
        <input type="text" name="name" value="{{ form.name.value|default_if_none:'' }}" required
               class="h-[36px] w-[260px] max-w-full px-3 rounded-[10px] border border-black/20 bg-white
                      text-[14px] leading-[20px] text-[#111827] outline-none
                      focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
        {% if form.name.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.name.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Price:</label>
        <input type="number" step="0.01" name="price" value="{{ form.price.value|default_if_none:'' }}" required
               class="h-[36px] w-[260px] max-w-full px-3 rounded-[10px] border border-black/20 bg-white
                      text-[14px] leading-[20px] text-[#111827] outline-none
                      focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
        {% if form.price.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.price.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <label class="self-start text-[15px] font-semibold text-[#1f2937] mt-2">Description:</label>
        <textarea name="description" rows="8"
                  class="w-[560px] max-w-full h-[190px] px-3 py-2 rounded-[10px]
                         border border-black/20 bg-white text-[14px] leading-[20px] text-[#111827]
                         outline-none focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">{{ form.description.value|default_if_none:'' }}</textarea>
        {% if form.description.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.description.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Thumbnail:</label>
        <input type="text" name="thumbnail" value="{{ form.thumbnail.value|default_if_none:'' }}"
               class="h-[36px] w-[300px] max-w-full px-3 rounded-[10px] border border-black/20 bg-white
                      text-[14px] leading-[20px] text-[#111827] outline-none
                      focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
        {% if form.thumbnail.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.thumbnail.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Category:</label>
        <select name="category"
                class="h-[36px] w-[140px] max-w-full px-2 rounded-[10px] border border-black/20 bg-white
                       text-[14px] leading-[20px] text-[#111827] outline-none
                       focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
          {% for val, lab in form.category.field.choices %}
            <option value="{{ val }}" {% if form.category.value == val %}selected{% endif %}>{{ lab }}</option>
          {% endfor %}
        </select>
        {% if form.category.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.category.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Is featured:</label>
        <div class="h-[36px] flex items-center">
          <input type="checkbox" name="is_featured" value="on" {% if form.is_featured.value %}checked{% endif %}
                 class="w-[18px] h-[18px] rounded border border-black/30">
        </div>
        {% if form.is_featured.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.is_featured.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Team:</label>
        <input type="text" name="team" value="{{ form.team.value|default_if_none:'' }}"
               class="h-[36px] w-[260px] max-w-full px-3 rounded-[10px] border border-black/20 bg-white
                      text-[14px] leading-[20px] text-[#111827] outline-none
                      focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
        {% if form.team.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.team.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Season:</label>
        <input type="text" name="season" value="{{ form.season.value|default_if_none:'' }}"
               class="h-[36px] w-[160px] max-w-full px-3 rounded-[10px] border border-black/20 bg-white
                      text-[14px] leading-[20px] text-[#111827] outline-none
                      focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
        {% if form.season.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.season.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Size:</label>
        <select name="size"
                class="h-[36px] w-[160px] max-w-full px-2 rounded-[10px] border border-black/20 bg-white
                       text-[14px] leading-[20px] text-[#111827] outline-none
                       focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
          {% for val, lab in form.size.field.choices %}
            <option value="{{ val }}" {% if form.size.value == val %}selected{% endif %}>{{ lab }}</option>
          {% endfor %}
        </select>
        {% if form.size.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.size.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}
        
        <label for="id_sleeve_type" class="self-center text-[15px] font-semibold text-[#1f2937]">Sleeve:</label>
        <div class="relative z-50">
          <select name="sleeve_type" id="id_sleeve_type"
                  class="h-[36px] w-[160px] max-w-full px-2 rounded-[10px] border border-black/20 bg-white
                        text-[14px] leading-[20px] text-[#111827] outline-none cursor-pointer
                        focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
            {% for val, lab in form.sleeve_type.field.choices %}
              <option value="{{ val }}"
                      {% if form.sleeve_type.value|stringformat:"s" == val|stringformat:"s" %}selected{% endif %}>
                {{ lab }}
              </option>
            {% endfor %}
          </select>
        </div>
        {% if form.sleeve_type.errors %}
          <div></div>
          <ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">
            {% for e in form.sleeve_type.errors %}<li>{{ e }}</li>{% endfor %}
          </ul>
        {% endif %}
        
        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Condition:</label>
        <input type="text" name="condition" value="{{ form.condition.value|default_if_none:'' }}"
               class="h-[36px] w-[220px] max-w-full px-3 rounded-[10px] border border-black/20 bg-white
                      text-[14px] leading-[20px] text-[#111827] outline-none
                      focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
        {% if form.condition.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.condition.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Manufacturer:</label>
        <input type="text" name="manufacturer" value="{{ form.manufacturer.value|default_if_none:'' }}"
               class="h-[36px] w-[300px] max-w-full px-3 rounded-[10px] border border-black/20 bg-white
                      text-[14px] leading-[20px] text-[#111827] outline-none
                      focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
        {% if form.manufacturer.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.manufacturer.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <label class="self-center text-[15px] font-semibold text-[#1f2937]">Stock:</label>
        <input type="number" name="stock" min="0" value="{{ form.stock.value|default_if_none:'0' }}"
               class="h-[36px] w-[120px] max-w-full px-3 rounded-[10px] border border-black/20 bg-white
                      text-[14px] leading-[20px] text-[#111827] outline-none
                      focus:ring-2 focus:ring-[#6366F1] focus:border-transparent">
        {% if form.stock.errors %}<div></div><ul class="text-[#b91c1c] text-[13px] -mt-2 mb-1">{% for e in form.stock.errors %}<li>{{ e }}</li>{% endfor %}</ul>{% endif %}

        <div></div>
        <button type="submit"
          class="inline-flex items-center justify-center px-4 py-2.5 rounded-[12px]
                 bg-white border border-[#111827] text-[#111827] font-semibold
                 hover:bg-[#ffb6c1] hover:text-white hover:border-[#ffb6c1] transition">
          Save
        </button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
