{% extends "base.html" %}
{% block title %}Register â€” KitKeeper{% endblock %}

{% block meta %}
<style>
  :root{ --card-w: 460px; --radius: 18px; }

  /* remove any inherited page panels (that green slab) for this page */
  main, .container, .content, .panel, .page, .shell {
    background: transparent !important;
    border: 0 !important;
    box-shadow: none !important;
    backdrop-filter: none !important;
  }

  .auth-wrap{
    min-height: calc(100dvh - 4rem);
    display:grid; place-items:center;
    padding: 16px;
  }

  .card{
    width: min(var(--card-w), 92vw);
    border-radius: var(--radius);
    padding: 22px 20px;
    background: linear-gradient(to right, #a8e6cf, #dcedc1, #f0f9e8);
    border: 1px solid rgba(0,0,0,.10);
    box-shadow: 0 14px 32px rgba(0,0,0,.14);
  }

  .head{ margin-bottom: 12px; }
  .title{ margin:0; font-size:1.35rem; letter-spacing:.2px }
  .sub{ margin:2px 0 0; color:#4b5563; font-size:.92rem }

  .form-row{ margin:12px 0 6px; }
  .form-row label{ display:block; font-size:.85rem; color:#263238; margin-bottom:6px; }

  /* default Django inputs styled without calling methods in template */
  input[type="text"], input[type="password"]{
    display:block; width:100%; max-width:100%; box-sizing:border-box;
    border-radius:12px; border:1px solid rgba(0,0,0,.14);
    background:#ffffff; padding:12px 14px; font-size:.96rem; outline:none;
  }

  .helptext{ font-size:.85rem; color:#6b7280; margin-top:6px }
  .errorlist{ margin:.35rem 0 0; padding-left:1rem; color:#b00020; font-size:.85rem }
  .nonfield{ margin:.25rem 0 0; color:#b00020; font-size:.9rem }

  .btn{
    margin-top:14px; width:100%;
    border:none; cursor:pointer;
    border-radius:14px; padding:12px 16px;
    font-weight:600; letter-spacing:.2px;
    background:#0f172a; color:#fff;
  }

  .messages{ margin:10px 0 0; padding-left:1rem; color:#065f46; font-size:.92rem }
  .foot{ margin-top:12px; font-size:.92rem; color:#4b5563 }
  .link{ color:#111827; text-decoration:none }
  .link:hover{ text-decoration:underline }
</style>
{% endblock meta %}

{% block content %}
<div class="auth-wrap">
  <div class="card">
    <div class="head">
      <h1 class="title">Create your account</h1>
      <p class="sub">It takes less than a minute</p>
    </div>

    <form method="POST">
      {% csrf_token %}

      {% if form.non_field_errors %}
        <div class="nonfield">{{ form.non_field_errors }}</div>
      {% endif %}

      <!-- Username -->
      <div class="form-row">
        <label for="{{ form.username.id_for_label }}">Username</label>
        {{ form.username }}
        {{ form.username.errors }}
        {% if form.username.help_text %}
          <div class="helptext">{{ form.username.help_text|safe }}</div>
        {% endif %}
      </div>

      <!-- Password -->
      <div class="form-row">
        <label for="{{ form.password1.id_for_label }}">Password</label>
        {{ form.password1 }}
        {{ form.password1.errors }}
        {% if form.password1.help_text %}
          <div class="helptext">{{ form.password1.help_text|safe }}</div>
        {% endif %}
      </div>

      <!-- Confirm -->
      <div class="form-row">
        <label for="{{ form.password2.id_for_label }}">Confirm Password</label>
        {{ form.password2 }}
        {{ form.password2.errors }}
      </div>

      <button type="submit" class="btn">Sign Up</button>
    </form>

    {% if messages %}
      <ul class="messages">
        {% for message in messages %}<li>{{ message }}</li>{% endfor %}
      </ul>
    {% endif %}

    <p class="foot">Already have an account?
      <a class="link" href="{% url 'main:login' %}">Sign In</a>
    </p>
  </div>
</div>
{% endblock %}
